'use strict';

// Migration #3: Add diets and cols to diets
// ================================

// this is the third iteration of dummy data. Does as title suggests
//
// to add this data, be sure of these two things first:
//
// A) you've globally installed the sequelize cli
//     $ npm install -g sequelize
// B) you've globally installed the mysql node package
//     $ npm install -g mysql

// To add the data with the sequelize cli, run this command
//    $ sequelize db:migrate
//
// PLEASE DO NOT USE sequelize db:migrate:undo without notifying Steve,
//   unless you're using a local db.
//
// PLEASE DO NOT EDIT THIS FILE:
//  if you want something changed, notify Steve, 
//  who will produce a second migration file.

// bring in all of our models from the models directory
var models = require('../models');

module.exports = {
  up: function (queryInterface, Sequelize) {
      // bulkCreate diets
      return models.Diet.bulkCreate([
        { 
          name: "The Best Diet In The World",
          description: "If you do not follow this diet to a T, " +
                       "you're missing out, man! We are gluten-free, " +
                       "salt-free, GMO-free and basically better than you " +
                       "in every way you can imagine--and some ways you can't.",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "The Worst Diet In The World",
          description: "If you do not follow this diet to a T, " +
                       "you're not missing out, man! We aren't gluten-free, " +
                       "salt-free, GMO-free or basically better than you " +
                       "in every way you can imagine--and some ways you can't.",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "The Milquetoastiest Diet In The World",
          description: "If you do not follow this diet to a T, " +
                       "you may or may not be missing out, man! We are somewhat gluten-free, " +
                       "somewhat salt-free, somewhat GMO-free and basically better than you " +
                       "in some ways but not in others.",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "Work on your Glutes without all the Gluten",
          description: "Need to shape that curve without all the gluten? " +
                       "We got you covered! Just follow this advice: ... ",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "Work on your Glutes with all the Gluten",
          description: "Need to shape that curve while eating as much gluten as possible? " +
                       "We got you covered! Just follow this advice: ... ",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "Work on your Abs without all the Salt",
          description: "Need to shape that washboard but can't eat salt? " +
                       "We got you covered! Just follow this advice: ... ",
          image: "assets/images/placeholder.jpg"
        },
        {
          name: "Work on your Abs with all the Salt",
          description: "Need to shape that washboard and want to consume way too much sodium? " +
                       "We got you covered! Just follow this advice: ... ",
          image: "assets/images/placeholder.jpg"
        }
      ])
  },

  down: function (queryInterface, Sequelize) {
    // remove images column from diets
    return models.Diet.findAll({
      where:{
        $or:[
          {name: "The Best Diet In The World"},
          {name: "The Worst Diet In The World"},
          {name: "The Milquetoastiest Diet In The World"},
          {name: "Work on your Glutes without all the Gluten"},
          {name: "Work on your Glutes with all the Gluten"},
          {name: "Work on your Abs without all the Salt"},
          {name: "Work on your Abs with all the Salt"}
        ]
      }
      })
      .then(function(results){
        return results.map(function(item, index){
          return item.destroy();
        })
      })
  } 
}
